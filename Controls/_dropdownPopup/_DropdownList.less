.controls-DropdownList__popup.theme_@{themeName} {
   .flexbox();
   .flex-direction(column);
   max-width: @popup_max-width_dropdown;
   border: @popup_border-thickness_dropdown solid @popup_border-color_dropdown;
   background: @popup_background-color_dropdown;
   box-sizing: border-box;
   max-height: 100%;
   width: 100%;
   overflow: hidden;
}

.controls-DropdownList__popup-shadow-default.theme_@{themeName} {
   box-shadow: @popup_box-shadow-color_dropdown 0 0 @popup_box-shadow-offset_dropdown 0;
}

.controls-DropdownList__popup-top.controls-DropdownList__popup-shadow-suggestionsContainer.theme_@{themeName}{
   box-shadow: @popup_box-shadow-color_dropdown -@popup_box-shadow-offset_dropdown 0 @popup_box-shadow-blur_dropdown @popup_box-shadow-offset_dropdown,
               @popup_box-shadow-color_dropdown @popup_box-shadow-offset_dropdown 0 @popup_box-shadow-blur_dropdown @popup_box-shadow-offset_dropdown,
               @popup_box-shadow-color_dropdown 0 -@popup_box-shadow-offset_dropdown @popup_box-shadow-blur_dropdown @popup_box-shadow-offset_dropdown;
}

.controls-DropdownList__popup-bottom.controls-DropdownList__popup-shadow-suggestionsContainer.theme_@{themeName}{
   box-shadow: @popup_box-shadow-color_dropdown -@popup_box-shadow-offset_dropdown 0 @popup_box-shadow-blur_dropdown -@popup_box-shadow-offset_dropdown,
               @popup_box-shadow-color_dropdown @popup_box-shadow-offset_dropdown 0 @popup_box-shadow-blur_dropdown @popup_box-shadow-offset_dropdown,
               @popup_box-shadow-color_dropdown 0 @popup_box-shadow-offset_dropdown @popup_box-shadow-blur_dropdown @popup_box-shadow-offset_dropdown;
}

.controls-DropdownList__scroll.theme_@{themeName} {
   height: 100%;
   flex-shrink: 1;
   padding: @popup_padding-vertical_dropdown 0 @popup_padding-vertical_dropdown 0;
}

.controls-DropdownList__row.theme_@{themeName} {
   position: relative;
   .flexbox();
   .align-items(center);
   box-sizing: border-box;
}

.controls-DropdownList__row_state_default {
   cursor: pointer;
}

.controls-DropdownList__row_state_readOnly {
   cursor: default;
}

.controls-DropdownList__row-separator.theme_@{themeName} {
   &:before {
      content: '';
      position: absolute;
      display: inline-block;
      background-color: @item_separator_color_menu;
      height: @item_separator_thickness_menu;
      left: @item_separator_padding-horizontal_menu;
      right: @item_separator_padding-horizontal_menu;
      bottom: 0;
   }
}

.controls-DropdownList__row_state_default.theme_@{themeName} {
   background: @item_background-color_menu;
}

.controls-DropdownList__row_state_default.theme_@{themeName} {
   &:active {
      background: @item_active_background-color_menu;
   }
}

//не удалять, высота необходима, чтобы корректно работал align-items:center в IE
.controls-DropdownList__row_singleLine.theme_@{themeName} {
   height: @item_height_menu;
}

.controls-DropdownList__row_multiLine.theme_@{themeName} {
   min-height: @item_height_menu;
}

.controls-DropdownList__defaultItem.theme_@{themeName},.controls-DropdownList__emptyItem.theme_@{themeName} {
   font-size: @item_font-size_menu;
}

.controls-DropdownList_singleSelect__emptyItem.theme_@{themeName} {
   height: @item_height_menu;
   color: @color_DropdownList-emptyItem;
}

.controls-DropdownList__item-leftPadding_default.theme_@{themeName} {
   padding-left: @item_padding-horizontal_l_menu;
}

.controls-DropdownList__item-leftPadding_xs.theme_@{themeName} {
   padding-left: @item_padding-horizontal_s_menu;
}

.controls-DropdownList__emptyItem-leftPadding_multiSelect.theme_@{themeName} {
   padding-left: @click-area_width_checkbox + @border-width_DropdownList;
}

.controls-DropdownList__item-rightPadding_default.theme_@{themeName} {
   padding-right: @item_padding-horizontal_l_menu;
}

.controls-DropdownList__item-rightPadding_hierarchy.theme_@{themeName} {
   padding-right: @hierarchy_icon_offset-right_menu + @hierarchy_icon-size_menu + @hierarchy_icon_offset-left_menu;
}

.controls-DropdownList__item-rightPadding_close.theme_@{themeName} {
   padding-right: @close-button_offset-left_menu + @width_closeButton_link + @close-button_offset-right_menu;
}

.controls-DropdownList__item-rightPadding_history.theme_@{themeName} {
   padding-right: @pin-button_offset-left_menu + @pin-button_icon-size_menu + @pin-button_offset-right_menu;
}

.controls-DropdownList__item-rightPadding_xs.theme_@{themeName} {
   padding-right:  @item_padding-horizontal_s_menu;
}

.controls-DropdownList__row_pinned.theme_@{themeName} {
   font-weight: bold;
}

.controls-HistoryMenu__iconUnnpin.theme_@{themeName} {
   font-weight: normal;
}

.controls-HistoryMenu__iconPin.theme_@{themeName} {
   position: absolute;
   display: none;
   .align-items(center);
   right: @pin-button_offset-right_menu;
   top: (@item_height_menu - @pin-button_icon-size_menu) / 2;
   .icon-size(@pin-button_icon-size_menu);
   color: @pin-button_icon-color_menu;
}

.controls-HistoryMenu__iconPin.controls-HistoryMenu__iconPin_swiped.theme_@{themeName} {
   .inline-flexbox();
}

.ws-is-hover {
   .controls-DropdownList__row:hover .controls-HistoryMenu__iconPin.theme_@{themeName} {
      .inline-flexbox();
   }

   .controls-HistoryMenu__iconPin.theme_@{themeName}:hover {
      color: @pin-button_hover_icon-color_menu;
   }
}

.controls-DropdownList__content.theme_@{themeName} {
   max-width: 100%;
   flex-shrink: 1;
}

.controls-DropdownList__content-readOnly {
   color: @readonly_item_text-color_menu;
}

.controls-DropdownList__content_singleLine.theme_@{themeName} {
   display: flex;
   align-items: center;
   .text-overflow();
}

.controls-DropdownList__content-wrapper {
   overflow: hidden;
   text-overflow: ellipsis;
}

.controls-DropdownList__row-additionalText_theme-@{themeName} {
   font-size: @font-size_xs;
   color: @unaccented_text-color;
   white-space: normal;
}

.controls-DropdownList__content_padding.theme_@{themeName} {
   display: flex;
   padding-top: @item_padding-top_menu;
   padding-bottom: @item_padding-bottom_menu;
}

.controls-DropdownList__selected.theme_@{themeName} {
   &:after {
      content: '';
      background: @marker_color_menu;
      width: @marker_width_menu;
      height: @marker_height_menu;
      position: absolute;
      left: 0;
      top: (@item_height_menu - @marker_height_menu) / 2;
   }
}

.controls-DropdownList__icon.theme_@{themeName} {
   .flex-shrink(0);
}

.controls-DropdownList__icon-left_theme-@{themeName} {
   margin-right: @item_icon_offset_menu;
}

.controls-DropdownList__icon-right_theme-@{themeName} {
   margin-left: @item_icon_offset_menu;
}

.controls-DropdownList__head.theme_@{themeName} {
   font-size: @header_font-size_dropdown;
   font-weight: bold;
   background: @header_background-color_dropdown;
   color: @color_DropdownList-heading;
   height: @header_min-height_dropdown;
   padding: 0 @header_padding-horizontal_dropdown 0 @header_padding-horizontal_dropdown;
   cursor: pointer;
   .flexbox();
   .align-items(center);
   .flex-shrink(0);
}

.controls-DropdownList-header-caption.theme_@{themeName} {
   overflow: hidden;
   text-overflow: ellipsis;
   white-space: nowrap;
}

.controls-DropdownList__header-icon.theme_@{themeName} {
   margin-right: @item_icon_offset_menu;
}

.controls-DropdownList__subMenu_margin.theme_@{themeName} {
   margin-top: -(@popup_padding-vertical_dropdown + @popup_border-thickness_dropdown);
}

.controls-DropdownList__arrow.theme_@{themeName} {
   .inline-flexbox();
   .align-items(center);
   position: absolute;
   top: (@item_height_menu - @hierarchy_icon-size_menu) / 2;
   right: @hierarchy_icon_offset-right_menu;
   .icon-size(@hierarchy_icon-size_menu);
   .box-sizing(border-box);
}

.controls-DropdownList__arrow_readOnly.theme_@{themeName} {
   color: @readonly_hierarchy_icon-color_menu;
}

.controls-DropdownList__arrow_default.theme_@{themeName} {
   color: @hierarchy_icon-color_menu;
}

.controls-DropdownList-cross.theme_@{themeName} {
   position: absolute;
   right: @close-button_offset-right_menu + @popup_border-thickness_dropdown;
   top: @close-button_offset-top_menu + @popup_border-thickness_dropdown;
   z-index: 2;
}

.controls-DropdownList-header.theme_@{themeName} {
   .flexbox();
   .align-items(center);
   overflow: hidden;
}

.controls-DropdownList__head-left.theme_@{themeName} {
   .flex-direction(row-reverse);
}

.controls-DropdownList__popup-top.theme_@{themeName} {
   .flex-direction(column-reverse);
}

.ws-is-hover {
   .controls-DropdownList__row_state_default:hover.theme_@{themeName} {
      background: @item_hover_background-color_menu;
      .controls-DropdownList__row-checkbox.theme_@{themeName} {
         visibility: visible;
      }
   }
}
.ws-is-no-touch {
   .controls-DropdownList__row-checkbox_default_theme_@{themeName} {
      visibility: hidden;
   }
}

.controls-DropdownList__additional.theme_@{themeName} {
   display: flex;
   justify-content: center;
   align-items: center;
}

.controls-DropdownList__additional-button.theme_@{themeName} {
   cursor: pointer;
}

.controls-DropdownList__group_separator.theme_@{themeName} {
   border-bottom: @grouping_separator_thickness_menu solid @grouping_separator_color_menu;
   margin: @grouping_padding-vertical_menu @grouping_padding-horizontal_menu;
}

.controls-DropdownList__group_separator_left.theme_@{themeName}, .controls-DropdownList__group_separator_right.theme_@{themeName} {
   flex-shrink: 1;
   height: @grouping_separator_thickness_menu;
   width: 100%;
}

.controls-DropdownList__group_content.theme_@{themeName} {
   display: flex;
   align-items: center;
}

.controls-DropdownList__group_content-text.theme_@{themeName} {
   display: inline-block;
   color: @grouping_text-color_menu;
   font-size: @grouping_font-size_menu;
   white-space: nowrap;
   text-align: center;
   flex-shrink: 0;
}

.controls-DropdownList__group_content_textAlign-right_theme-@{themeName} {
   margin-right: @grouping_padding-horizontal_menu;
}

.controls-DropdownList__group_content_textAlign-left_theme-@{themeName} {
   margin-left: @grouping_padding-horizontal_menu;
}

.controls-DropdownList__footer.theme_@{themeName} {
   display: flex;
   align-items: center;
   padding-bottom: @popup_padding-vertical_dropdown;
}

.controls-DropdownList__footer-buttons_theme_@{themeName} {
   width: 100%;
   display: flex;
   align-items: center;
   height: @footer_min-height_dropdown;
}

.controls-DropdownList__hasMoreButton_theme_@{themeName} {
   padding-left: @item_padding-horizontal_l_menu;
}
.controls-DropdownList_multiSelect__hasMoreButton_theme_@{themeName} {
   padding-left: @click-area_width_checkbox;
}

.controls-DropdownList__applyButton.theme_@{themeName} {
   display: flex;
   padding-right: @item_padding-horizontal_l_menu;
   padding-left: @apply-button_offset_dropdown;
   margin-left: auto;
   align-items: center;
}

.controls-DropdownList__row-checkbox_active_theme_@{themeName} {
   visibility: visible;
}

.controls-DropdownList__row-checkbox-right_theme_@{themeName} {
   position: absolute;
   top: (@item_height_menu - @height_checkbox) / 2;
   right: 0;
}

// TODO Kingo
// https://online.sbis.ru/opendoc.html?guid=c2744750-8f5f-4031-839c-0434f406db89
// -webkit-overflow-scrolling: touch меняет сглаживание текста и иконок.
// Этот стиль вешается для последнего открытого попапа, чтобы избежать багов со скролом.
// Для того, чтобы не ломать логику навешивания -webkit-overflow-scrolling: touch,
// чиню сглаживание через translateZ(0)
.ws-is-mobile-safari .controls-DropdownList__popup{
   transform: translateZ(0);
}
