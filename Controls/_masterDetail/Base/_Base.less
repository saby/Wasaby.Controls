.controls-MasterDetail {
   display: flex;
}

.controls-MasterDetail_master_theme-@{themeName} {
   background-color: @master_item_background-color_list;
}

.controls-MasterDetail_master {
   position: relative;
   flex-shrink: 0;
   width: 27%;
}

.controls-MasterDetail_master-template {
   // https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Positioning/Understanding_z_index/The_stacking_context
   // :before is necessary for correct work of z-index stack, :after makes below all elements without z-index in the stack
   // and children of these elements can not overlap this pseudo element.
   &:before {
      content: '';
      z-index: 1; // Чтобы перекрывать оптимизированную тень от scrollContainer'a, она сделана через background
      height: 100%;
      position: absolute;
      right: 0;
      top: 0;
   }
}

.controls-MasterDetail_master-template_theme-@{themeName} {
   &:before {
      width: @master_separator_thickness_list;
   }
}

.controls-MasterDetail_master-template-contrast_theme-@{themeName} {
   &:before {
      background-color: @master_separator_contrast-color_list;
   }
}

.controls-MasterDetail_master-template-same_theme-@{themeName} {
   &:before {
      background-color: @master_separator_color_list;
   }
}

.controls-MasterDetail_details {
   min-width: 1px;
}

.controls-MasterDetail_details_bg-contrast_theme-@{themeName} {
   background-color: @detail_contrast_background-color_masterDetail;
}

.controls-MasterDetail_details_bg-same_theme-@{themeName} {
   background-color: @detail_background-color_masterDetail;
}

.controls-MasterDetail_resizing-line {
   position: absolute;
   right: 0;
   top: 0;
   height: 100%;
   // Движение границ всегда должно быть выше любого прикладного элемента в контроле.
   // Решать проблему через z-index на контейнерах 'master' и 'detail' нельзя.
   // Они должны лежать в одном контексте наложения. Иначе будет перекрытие
   // пользовательских элементов выпирающих за пределы контейнеров. Например, плитка по ховеру.
   // https://online.sbis.ru/opendoc.html?guid=add422e3-ea09-494b-821f-514acab083f1
   z-index: 9999;
}

// Класс для установки фона контрола через backgroundStyle
// применяется к хлебным крошкам, группам. Для выбранной застиканной строки стили ниже
.controls-background-master_theme-@{themeName} {
   background-color: @master_item_background-color_list;
}

// данный стиль применяется к выбранной строке мастера, когда она застикана
// он нужен потому, что в случае мастера строка прозрачная, а в застиканном виде надо проставить фон
// В случае мастерКлассик фон задается у самой строки.
// При изменении требований к внешнему виду класс может стать ненужным
.controls-background-master_sticked_theme-@{themeName} {
   background-color: @master_item_selected_background-color_list;
}

// Класс для установки фона контрола через backgroundStyle (detail)
.controls-background-detail_theme-@{themeName} {
   background-color: @detail_background-color_masterDetail;
}

// Класс для установки фона контрола через backgroundStyle (detailContrast)
.controls-background-detailContrast_theme-@{themeName} {
   background-color: @detail_contrast_background-color_masterDetail;
}

// Набор классов для установки градиента горизонтального скролла через backgroundStyle (master, detail)
.controls-horizontal-gradient-master_theme-@{themeName} {
   background: linear-gradient(to right, @columnscroll_shadow-start-color_grid, @columnscroll_shadow-end-color_grid);
   border-left: @columnscroll_separator_thickness_grid solid @columnscroll_separator_color_grid;
}

.controls-horizontal-gradient-detail_theme-@{themeName} {
   background: linear-gradient(to right, @columnscroll_shadow-start-color_grid, @columnscroll_shadow-end-color_grid);
   border-left: @columnscroll_separator_thickness_grid solid @columnscroll_separator_color_grid;
}

.controls-horizontal-gradient-detailContrast_theme-@{themeName} {
   background: linear-gradient(to right, @columnscroll_shadow-start-color_grid, @columnscroll_shadow-end-color_grid);
   border-left: @columnscroll_separator_thickness_grid solid @columnscroll_separator_color_grid;
}

// todo https://online.sbis.ru/opendoc.html?guid=4427d008-ac6e-4ce3-bf04-1e1b65bd6f79
.ws-is-mobile-platform .controls-MasterDetail_resizing-line {
   right: -@resizingLine_mobile_offset-left_stack;
   width: @resizingLine_mobile_thickness_stack;
   .controls-ResizingLine__areaWrapper_horizontal_theme-@{themeName} {
      width: @resizingLine_mobile_thickness_stack - @resizingLine_mobile_offset-left_stack;
   }
}

// Класс для css теней скролл контейнера
.controls-Scroll__background-Shadow_style-master_theme-@{themeName} {
   background-image: linear-gradient(@master_item_background-color_list 25%, rgba(@master_item_background-color_list, 0)),
              linear-gradient(rgba(@master_item_background-color_list, 0), @master_item_background-color_list 75%),
              linear-gradient(to bottom, @shadow_start-color_scroll, @shadow_end-color_scroll),
              linear-gradient(to top, @shadow_start-color_scroll, @shadow_end-color_scroll);
   background-position: top, bottom, top, bottom;
   background-repeat: no-repeat;
   background-attachment: local, local, scroll, scroll;
}

